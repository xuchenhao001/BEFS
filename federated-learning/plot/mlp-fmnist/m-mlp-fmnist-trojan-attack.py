import sys

from plot.utils.time_acc_base import plot_time_acc

fed_avg = [50.95, 53.7, 59.84, 60.92, 61.7, 62.03, 63.08, 65.65, 67.05, 67.92, 68.84, 69.16, 69.89, 70.16, 70.46, 70.68, 70.97, 71.32, 71.38, 71.43, 71.57, 71.84, 72.0, 72.08, 72.16, 72.3, 72.32, 72.41, 72.59, 72.65, 72.76, 72.86, 72.89, 73.0, 73.0, 73.08, 73.03, 73.19, 73.14, 73.14, 73.41, 73.3, 73.41, 73.38, 73.41, 73.54, 73.62, 73.51, 73.54, 73.62, 73.73, 73.59, 73.76, 73.84, 73.84, 73.92, 73.89, 73.84, 73.89, 73.86, 73.86, 73.89, 73.95, 73.97, 73.97, 73.92, 73.95, 73.97, 74.03, 74.0, 73.97, 74.0, 73.97, 73.97, 74.03, 74.03, 73.89, 73.97, 74.08, 74.05, 74.05, 74.14, 74.11, 74.08, 74.0, 74.05, 74.16, 74.05, 74.11, 74.14, 74.11, 74.05, 74.14, 74.19, 74.11, 74.19, 74.19, 74.11, 74.03, 74.14, 74.16, 74.11, 74.16, 74.19, 74.14, 74.22, 74.19, 74.19, 74.24, 74.22, 74.27, 74.19, 74.27, 74.16, 74.14, 74.16, 74.3, 74.11, 74.24, 74.14, 74.19, 74.14, 74.27, 74.35, 74.22, 74.35, 74.14, 74.3, 74.27, 74.24, 74.32, 74.19, 74.32, 74.3, 74.38, 74.22, 74.16, 74.32, 74.22, 74.16, 74.27, 74.35, 74.16, 74.35, 74.3, 74.41, 74.27, 74.38, 74.32, 74.32, 74.38, 74.38, 74.43, 74.32, 74.38, 74.35, 74.49, 74.41, 74.46, 74.38, 74.27, 74.38, 74.32, 74.27, 74.43, 74.32, 74.24, 74.38, 74.41, 74.32, 74.43, 74.41, 74.46, 74.41, 74.49, 74.38, 74.41, 74.43, 74.49, 74.41, 74.35, 74.35, 74.38, 74.41, 74.41, 74.51, 74.46, 74.41, 74.41, 74.41, 74.41, 74.54, 74.38, 74.49, 74.3, 74.49, 74.49, 74.49, 74.3, 74.43]
fed_efsign = [41.89, 46.16, 53.86, 56.05, 61.89, 62.95, 65.22, 65.24, 66.14, 66.32, 67.51, 69.22, 71.14, 72.51, 73.81, 74.65, 75.0, 76.22, 76.54, 76.92, 77.0, 77.62, 77.59, 78.08, 77.78, 78.46, 77.92, 78.73, 78.35, 78.81, 78.43, 79.27, 78.84, 79.24, 78.73, 79.35, 78.32, 79.19, 78.19, 79.41, 78.35, 79.65, 78.51, 79.49, 78.46, 79.57, 78.35, 79.7, 78.62, 79.81, 78.27, 79.65, 77.92, 79.97, 78.19, 80.03, 77.7, 79.95, 77.68, 79.73, 77.05, 79.81, 78.24, 79.59, 77.78, 79.46, 77.7, 79.89, 77.81, 79.86, 77.62, 79.7, 77.92, 80.05, 77.24, 79.65, 77.68, 79.86, 77.76, 79.78, 77.78, 79.54, 77.57, 79.7, 77.78, 79.7, 77.73, 79.81, 77.43, 79.57, 77.86, 79.95, 77.92, 79.86, 78.0, 79.97, 78.0, 79.92, 78.16, 79.76, 78.14, 80.08, 77.35, 79.49, 78.32, 80.16, 77.27, 80.11, 78.41, 80.27, 78.46, 80.14, 78.24, 80.11, 78.32, 80.16, 78.86, 80.14, 78.76, 80.43, 78.68, 80.27, 78.68, 80.19, 79.7, 79.95, 78.95, 79.95, 78.68, 80.19, 79.57, 80.03, 79.16, 80.05, 78.73, 80.19, 79.0, 79.92, 78.81, 80.08, 78.73, 79.27, 79.32, 80.32, 79.35, 80.41, 78.73, 80.03, 79.35, 80.22, 78.97, 80.16, 79.08, 79.7, 79.32, 80.57, 79.65, 80.46, 79.0, 80.16, 79.05, 80.59, 79.14, 80.41, 79.05, 79.95, 79.38, 80.11, 79.76, 80.32, 79.46, 80.03, 78.92, 80.35, 78.86, 80.11, 79.35, 80.32, 79.24, 80.38, 79.62, 80.57, 79.51, 79.76, 79.32, 80.22, 79.35, 80.16, 79.92, 80.03, 79.73, 80.19, 79.43, 80.27, 79.3, 79.92, 79.65, 80.05, 79.46, 80.03]
fed_sync = [43.16, 54.08, 59.89, 61.03, 61.54, 61.95, 63.43, 66.11, 68.14, 69.19, 73.59, 74.54, 74.97, 75.73, 75.95, 76.32, 76.51, 76.84, 77.22, 77.27, 77.81, 77.92, 78.22, 78.14, 78.32, 78.35, 78.62, 78.49, 78.62, 78.78, 78.76, 78.89, 78.84, 79.14, 79.27, 79.11, 79.24, 79.54, 79.35, 79.51, 79.51, 79.43, 79.65, 79.7, 79.57, 79.65, 79.68, 79.51, 79.84, 79.73, 79.89, 79.73, 79.92, 80.0, 80.03, 79.97, 80.19, 80.16, 80.08, 80.14, 80.11, 80.27, 80.3, 80.24, 80.24, 80.22, 80.3, 80.22, 80.32, 80.43, 80.22, 80.38, 80.43, 80.35, 80.51, 80.46, 80.49, 80.41, 80.57, 80.46, 80.54, 80.54, 80.51, 80.54, 80.51, 80.7, 80.65, 80.84, 81.51, 81.92, 82.0, 82.35, 82.38, 82.78, 82.49, 82.97, 82.76, 82.92, 82.84, 83.03, 83.08, 83.0, 83.03, 83.14, 83.08, 83.08, 83.03, 83.11, 83.14, 83.35, 83.22, 83.41, 83.41, 83.35, 83.68, 83.38, 83.3, 83.43, 83.54, 83.35, 83.49, 83.62, 83.46, 83.51, 83.59, 83.84, 83.78, 83.95, 83.76, 83.54, 83.62, 83.84, 83.84, 83.7, 83.89, 83.89, 83.7, 83.54, 83.95, 83.86, 83.89, 83.89, 84.0, 83.95, 84.11, 83.84, 83.89, 84.0, 84.0, 83.97, 83.92, 83.97, 84.19, 83.97, 84.08, 83.95, 84.22, 84.0, 84.03, 83.95, 83.86, 84.24, 84.03, 84.03, 84.0, 84.03, 84.14, 84.08, 84.0, 84.16, 84.22, 84.22, 84.05, 84.08, 84.16, 84.19, 84.08, 84.19, 84.11, 84.32, 84.14, 84.08, 84.19, 84.16, 84.05, 84.24, 84.16, 84.16, 84.14, 84.38, 84.3, 84.19, 84.27, 84.16, 84.14, 84.14, 84.38, 84.11, 84.08, 84.3]
fed_sync_sgd = [44.54, 46.89, 50.14, 52.62, 53.03, 52.97, 52.97, 53.27, 54.62, 57.19, 58.41, 60.73, 59.97, 63.65, 61.84, 66.19, 64.19, 67.49, 65.81, 68.84, 66.92, 69.32, 67.24, 69.84, 68.0, 70.19, 68.57, 70.27, 69.11, 70.35, 69.49, 70.78, 69.92, 70.95, 69.86, 70.95, 69.97, 70.89, 70.0, 70.86, 70.03, 70.89, 70.22, 70.97, 70.35, 71.11, 70.35, 71.24, 70.54, 71.11, 70.84, 71.08, 70.95, 71.05, 70.89, 71.08, 71.03, 71.24, 71.03, 71.32, 71.16, 71.27, 71.05, 71.27, 71.3, 71.27, 71.43, 71.16, 71.38, 71.22, 71.41, 71.27, 71.38, 71.27, 71.38, 71.32, 71.46, 71.35, 71.41, 71.3, 71.41, 71.38, 71.54, 71.46, 71.59, 71.49, 71.59, 71.51, 71.68, 71.57, 71.7, 71.59, 71.65, 71.7, 71.68, 71.73, 71.68, 71.76, 71.7, 71.7, 71.92, 71.81, 71.95, 72.05, 72.08, 72.14, 72.24, 72.32, 72.32, 72.3, 72.3, 72.32, 72.35, 72.3, 72.3, 72.32, 72.32, 72.27, 72.35, 72.38, 72.43, 72.51, 72.51, 72.51, 72.57, 72.57, 72.57, 72.57, 72.57, 72.59, 72.59, 72.57, 72.59, 72.7, 72.68, 72.62, 72.59, 72.62, 72.65, 72.65, 72.65, 72.7, 72.68, 72.59, 72.68, 72.68, 72.73, 72.81, 72.73, 72.7, 72.7, 72.7, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.73, 72.76, 72.78, 72.78, 72.78, 72.78, 72.78, 72.78, 72.78, 72.78, 72.76, 72.76]
local_train = [49.7, 61.05, 65.22, 66.38, 67.27, 69.14, 71.08, 72.3, 74.0, 75.27, 75.57, 76.03, 76.41, 76.3, 76.92, 77.16, 76.89, 77.05, 76.92, 77.3, 77.3, 77.38, 77.49, 77.51, 77.43, 77.78, 77.54, 77.68, 77.84, 78.32, 78.08, 78.22, 78.11, 78.11, 78.22, 78.16, 78.08, 78.05, 78.24, 78.05, 78.08, 78.22, 78.32, 78.19, 77.92, 78.3, 78.27, 78.22, 78.19, 78.22, 78.22, 78.16, 78.3, 78.3, 78.32, 78.43, 78.27, 78.24, 78.62, 78.92, 78.35, 78.65, 78.78, 78.59, 78.49, 78.62, 78.76, 78.86, 78.57, 78.59, 78.62, 78.54, 78.73, 78.41, 78.57, 78.43, 78.41, 78.76, 78.54, 78.57, 78.68, 78.78, 78.41, 78.59, 78.49, 78.27, 78.35, 78.68, 78.51, 78.68, 78.59, 78.57, 78.57, 78.68, 78.62, 78.59, 78.59, 78.32, 78.46, 78.51, 78.41, 78.14, 78.43, 78.27, 78.41, 78.41, 78.22, 78.51, 78.46, 78.43, 78.41, 78.3, 78.57, 78.27, 78.32, 78.41, 78.3, 78.43, 78.24, 78.54, 78.32, 78.41, 78.41, 78.59, 78.35, 78.51, 78.46, 78.46, 78.41, 78.62, 78.43, 78.57, 78.41, 78.41, 78.59, 78.41, 78.38, 78.49, 78.38, 78.43, 78.35, 78.51, 78.46, 78.49, 78.46, 78.32, 78.46, 78.41, 78.59, 78.54, 78.92, 78.59, 78.78, 78.59, 78.57, 78.57, 78.68, 78.62, 78.73, 78.89, 78.73, 78.81, 78.86, 78.7, 78.92, 78.89, 78.89, 78.97, 78.73, 78.62, 78.89, 78.89, 79.03, 79.05, 78.89, 79.11, 79.11, 79.05, 79.14, 78.84, 78.84, 78.92, 79.08, 79.05, 79.43, 79.46, 79.46, 79.89, 79.59, 79.7, 79.7, 79.62, 79.65, 79.68, 79.54, 79.59, 79.62, 79.73, 79.7, 79.54]

save_path = None
if len(sys.argv) == 3 and sys.argv[1] and sys.argv[1] == "save":
    save_path = sys.argv[2]

plot_time_acc("", fed_sync_sgd, fed_sync, fed_efsign, fed_avg, local_train, save_path, plot_size="M")
